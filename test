SELECT 
    d.datname AS database_name,
    n.nspname AS schema_name,
    r.rolname AS role_name,
    c.relname AS table_name,
    c.relacl AS privileges
FROM pg_class c
JOIN pg_namespace n ON n.oid = c.relnamespace
JOIN pg_roles r ON r.oid = ANY(c.relacl::regrole[])
JOIN pg_database d ON d.datname = current_database()
WHERE c.relkind = 'r';
